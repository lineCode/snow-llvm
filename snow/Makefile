LEVEL = .
TARGET := snow

AUTOGENERATED_SOURCES := 
SOURCES := $(filter-out $(AUTOGENERATED_SOURCES), $(wildcard *.c *.cpp))
SOURCES := $(AUTOGENERATED_SOURCES) $(SOURCES)
OBJECTS = $(patsubst %,%.bc,$(SOURCES))
EXTRA_CLEAN := $(AUTOGENERATED_SOURCES)

SUBDIRS := driver

include Makefile.rules

snow.bc: $(OBJECTS)
	$(BC_LD) -b $@ $(BC_LDFLAGS) $(OBJECTS)

snow: driver snow.bc
	cp driver/driver snow
